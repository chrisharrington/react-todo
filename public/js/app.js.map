{"version":3,"sources":["app/actions/base.js","app/actions/todo/all.js","app/config.js","app/constants/components.js","app/constants/index.js","app/constants/todo.js","app/dispatcher.js","app/emitter.js","app/initialize.jsx","app/pages/todo/index.jsx","app/pages/todo/list/index.jsx","app/pages/todo/list/item.jsx","app/pages/todo/modal.jsx","app/stores/base.js","app/stores/index.js","app/stores/todo.js","app/utilities/errorHandler.js","app/utilities/validation.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5BA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;ACAA;AAAA;AACA;AACA;AAFA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAAA;ACAA;AAAA;AACA;AACA;AAFA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnEA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvEA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApDA;AAAA;ACAA;AAAA;AACA;AACA;AAFA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AAHA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtBA;AAAA","file":"public/js/app.js","sourcesContent":["module.exports = function(constants) {\n\tthis.all = function(content) {\n\t\treturn {\n\t\t\ttype: constants.ALL,\n\t\t\tcontent: content\n\t\t};\n\t};\n\t\n\tthis.create = function(content) {\n\t\treturn {\n\t\t\ttype: constants.CREATE,\n\t\t\tcontent: content\n\t\t};\n\t};\n\t\n\tthis.update = function(content) {\n\t\treturn {\n\t\t\ttype: constants.UPDATE,\n\t\t\tcontent: content\n\t\t};\n\t};\n\t\n\tthis.remove = function(content) {\n\t\treturn {\n\t\t\ttype: constants.REMOVE,\n\t\t\tcontent: content\n\t\t};\n\t};\n};","\"use strict\";\n\nvar constants = require(\"constants\");\n\nmodule.exports = {\n      \n};","module.exports = {\n\tfixtures: true\n};","\"use strict\";\n\nmodule.exports = {\n    todo: \"todo-component\"\n};","\"use strict\";\n\nmodule.exports = {\n    components: require(\"./components\"),\n    todo: require(\"./todo\")\n};","module.exports = {\n    changed: \"todos-changed\",\n    \n    all: \"all-todos\",\n    create: \"create-todo\",\n    update: \"update-todo\",\n    remove: \"remove-todo\"\n};\n","/* jshint node: true */\n\"use strict\";\n\nvar Dispatcher = require(\"flux\").Dispatcher;\n\nmodule.exports = new Dispatcher();","var EventEmitter = require(\"eventEmitter\");\n\nmodule.exports = new EventEmitter();","/* jshint node: true */\n\"use strict\";\n\nrequire(\"stores\");\n\nvar React = require(\"react\"),\n    Todo = require(\"pages/todo\");\n\n$(function () {\n    React.render(new Todo(), $(\"#app\")[0]);\n});","/* jshint node: true */\n\"use strict\";\n\nvar React = require(\"react\"),\n    _ = require(\"underscore\"),\n    \n    List = require(\"./list\"),\n    Modal = require(\"./modal\"),\n    \n    dispatcher = require(\"dispatcher\"),\n    emitter = require(\"emitter\"),\n    constants = require(\"constants\").todo;\n\nmodule.exports = React.createClass({displayName: 'exports',\n    getInitialState: function() {\n        return {\n            todos: []\n        }  \n    },\n\n    componentWillMount: function() {\n        emitter.on(constants.changed, function(todos) {\n            this.setState({ todos: todos });\n        }.bind(this));\n    },\n    \n    componentDidMount: function() {\n        dispatcher.dispatch({ type: constants.all });\n    },\n    \n    componentsWillUnmount: function() {\n        emitter.off(constants.all);\n    },\n    \n    create: function() {\n        this.refs.create.show();\n    },\n    \n    renderList: function(complete) {\n        return React.createElement(List, {todos: _.filter(this.state.todos, function(x) { return x.isComplete === complete; })});\n    },\n    \n    render: function() {\n        return React.createElement(\"div\", {className: \"container\"}, \n            React.createElement(\"div\", {className: \"row\"}, \n                React.createElement(\"div\", {className: \"col-md-8\"}, \n                    React.createElement(\"h2\", null, \"Todo List\")\n                ), \n                React.createElement(\"div\", {className: \"col-md-4\"}, \n                    React.createElement(\"button\", {type: \"button\", className: \"btn btn-primary pull-right spacing-top\", onClick: this.create}, \"New Task\")\n                )\n            ), \n                    \n            React.createElement(\"div\", {className: \"row\"}, \n                React.createElement(\"div\", {className: \"col-md-6\"}, \n                    React.createElement(\"h3\", {className: \"spacing-bottom\"}, \"Incomplete\"), \n                    this.renderList(false)\n                ), \n                React.createElement(\"div\", {className: \"col-md-6\"}, \n                    React.createElement(\"h3\", {className: \"spacing-bottom\"}, \"Complete\"), \n                    this.renderList(true)\n                )\n            ), \n            \n            React.createElement(Modal, {ref: \"create\"})\n        );\n    }\n});","/* jshint node: true */\n\"use strict\";\n\nvar _ = require(\"underscore\"),\n    Item = require(\"./item\");\n\nmodule.exports = React.createClass({displayName: 'exports',\n    renderItems: function() {\n        return _.map(this.props.todos, function(todo) {\n            return React.createElement(Item, {todo: todo});\n        });\n    },\n    \n    render: function() {\n        return React.createElement(\"ul\", {className: \"list-group\"}, \n            this.renderItems()\n        );\n    } \n});","/* jshint node: true */\n\"use strict\";\n\nvar constants = require(\"constants\").todo,\n    dispatcher = require(\"dispatcher\");\n\nmodule.exports = React.createClass({displayName: 'exports',\n    toggle: function() {\n        this.props.todo.isComplete = !this.props.todo.isComplete;\n        dispatcher.dispatch({ type: constants.update, content: this.props.todo });\n    },\n    \n    render: function() {\n        return React.createElement(\"li\", {className: \"list-group-item pointer\", onClick: this.toggle}, this.props.todo.name); \n    } \n});","\"use strict\";\n\nvar React = require(\"react\"),\n    \n    dispatcher = require(\"dispatcher\"),\n    emitter = require(\"emitter\"),\n    constants = require(\"constants\").todo;\n\nmodule.exports = React.createClass({displayName: 'exports',\n    getInitialState: function() {\n        return {\n            visible: false,\n            value: \"\"\n        };\n    },\n    \n    componentDidMount: function () {\n        this.$el = $(this.getDOMNode());\n        this.$el.on(\"hidden.bs.modal\", this.reset);\n        \n        emitter.on(constants.changed, function() {\n            this.$el.modal(\"hide\");\n        }.bind(this));\n    },\n    \n    componentWillUnmount: function() {\n        emitter.off(constants.changed);\n    },\n\n    show: function () {\n        this.$el.modal(\"show\");\n    },\n\n    reset: function() {\n        this.setState({ value: \"\" });\n    },\n    \n    save: function() {\n        dispatcher.dispatch({ type: constants.create, content: { name: this.state.value, isComplete: false }});\n    },\n    \n    onChange: function(e) {\n        this.setState({ value: e.target.value });\n    },\n    \n    render: function() {\n\t\treturn React.createElement(\"div\", {className: \"modal fade\", tabIndex: \"-1\", role: \"dialog\", 'aria-hidden': \"true\"}, \n            React.createElement(\"div\", {className: \"modal-dialog modal-sm\"}, \n                React.createElement(\"div\", {className: \"modal-content\"}, \n                    React.createElement(\"div\", {className: \"modal-header\"}, \n                        React.createElement(\"button\", {type: \"button\", className: \"close\", 'data-dismiss': \"modal\"}, \n                            React.createElement(\"span\", {'aria-hidden': \"true\"}, \"Ã—\"), \n                            React.createElement(\"span\", {className: \"sr-only\"}, \"Close\")\n                        ), \n                        React.createElement(\"h3\", {className: \"modal-title\"}, \"New Task\")\n                    ), \n                    React.createElement(\"div\", {className: \"modal-body\"}, \n                        React.createElement(\"input\", {placeholder: \"Task name...\", type: \"text\", value: this.state.value, onChange: this.onChange})\n                    ), \n                    React.createElement(\"div\", {className: \"modal-footer\"}, \n\t\t\t\t\t\tReact.createElement(\"div\", {className: \"row\"}, \n\t\t\t\t\t\t\tReact.createElement(\"div\", {className: \"col col-md-12\"}, \n\t\t\t\t\t\t\t\tReact.createElement(\"button\", {type: \"button\", className: \"btn btn-primary pull-right\", onClick: this.save}, \"Save\"), \n                                React.createElement(\"button\", {type: \"button\", className: \"btn btn-default pull-right spacing-right\", onClick: this.reset, 'data-dismiss': \"modal\"}, \"Close\")\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n                    )\n                )\n            )\n        );\n    }\n});","\"use strict\";\n\nvar _ = require(\"underscore\"),\n    emitter = require(\"emitter\"),\n    dispatcher = require(\"dispatcher\"),\n    constants = require(\"constants\");\n\nmodule.exports = function(url, constants) {\n    this._url = url;\n    this._collection = [];\n    \n    $.get(this._url).then(function(data) {\n        this._collection = data;\n        _notify.call(this);\n    }.bind(this));\n    \n    dispatcher.register(function(payload) {\n        switch (payload.type) {\n            case constants.all:\n                this._all();\n                break;\n                \n            case constants.update:\n                this._update(payload.content);\n                break;\n                \n            case constants.create:\n                this._create(payload.content);\n                break;\n        }\n    }.bind(this));\n    \n    this._all = function() {\n        _notify.call(this);\n    }.bind(this);\n    \n    this._update = function(content) {\n        var found = _.find(this._collection, function(x) { return x.id === content.id; });\n        for (var name in found)\n            found[name] = content[name];\n        _notify.call(this);\n    };\n    \n    this._create = function(content) {\n        content.id = _.max(this._collection, function(x) { return x.id; }).id + 1;\n        this._collection.push(content);\n        _notify.call(this);\n    }\n    \n    function _notify() {\n        emitter.emit(constants.changed, this._collection);\n    }\n};","module.exports = {\n    todo: require(\"stores/todo\")\n};","var Base = require(\"./base\"),\n    constants = require(\"constants\").todo;\n\nmodule.exports = new Base(\"fixtures/todos.json\", constants);","var _ = require(\"underscore\");\n\nmodule.exports = {\n\thandle: function(model) {\n\t\tvar result = {}, flags = model.all(), errors = model.validate(), count = 0, message = \"\";\n\t\t_.each(errors, function(error) {\n\t\t\tflags[error.key] = true;\n\t\t\tmessage = ++count === 1 ? error.message : \"Please fix the outlined fields.\";\n\t\t});\n\t\t\n\t\treturn { flags: flags, message: message, any: count > 0 };\n\t}\n}","module.exports = {\n\trequired: function(value) {\n\t\treturn value !== undefined && value !== \"\";\n\t},\n\t\n\tphone: function(value) {\n\t\tif (value)\n\t\t\tvalue = value.replace(/[\\D]/g, \"\");\n\t\treturn value === undefined || value.length === 10;\n\t},\n\t\n\temail: function(value) {\n\t\treturn new RegExp(/^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/).test(value);\n\t},\n\t\n\tpositiveNumber: function(value) {\n\t\tif (value === undefined || value === \"\")\n\t\t\treturn true;\n\t\t\n\t\tvalue = parseInt(value);\n\t\treturn !isNaN(value) && value >= 1;\n\t}\n}"]}